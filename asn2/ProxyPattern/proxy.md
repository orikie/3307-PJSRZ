
# 1 Business Scenario: Enterprise Archiving Solution for IT Risk Mitigation and Legal Compliance

The trends of electronic data growth naturally bring out new amendments to federal laws on data governance and compliance. Laws in the U.S and Canada from The Federal Rules of Civil Procedure (FRCP) and The Sedona Conference, respectively, outline models necessary for organizations to comply with the preservation of data integrity, as well as requiring reasonable steps to prevent data alteration or destruction. Amid litigation, parties must “define business records that are created or kept in electronic format as discoverable giving the requesting party access to them” as outlined in FRCP. This e-discovery requirement enshrines the principal that all relevant non-privileged electronic data must be disclosed to party claims or defenses given a request by the court.
	To comply with FRCP’s e-discovery requirements, all relevant business data should be archived to satisfy proper backup and recovery. A party’s discovery request is usually entitled to unaltered data, and this means the original files should be stored in its original formats with its metadata. Traditionally, this backup process utilized storage in magnetic tapes, disk drives across multiple machines, or a combination of both. However, with data growing at enormous rates and in numerous formats, the e-discovery process using outdated technology can become time consuming, expensive, and result in the exclusion of relevant data. In the case of data spoliation due to neglect, US courts have imposed sanctions in the form of monetary penalties and dismissals.

Our solution consists of a server component that processes enterprise data (emails, patents, files, etc.) and actively stores them to backup network devices. The server connects to data stores such as e-mail servers, file servers, or cloud services. Upon successful backup of a file, the server also indexes the data to a central repository and create metadata entries to a database. In the event of a legal discovery request, supported desktop applications or web portals can make search queries to the data repository through the indexed data. This enterprise wide system ensures that all data is backed up securely and effectively while featuring flexible and secure retrievals. In the event of e-discovery obligations, firms deployed with this system would have more control over their data to mitigate legal risks. 

## 2 Proxy Design Pattern

i) For the search and retrieval process of our system, we've chosen to use the *proxy design* pattern. 

ii) Due to the potential nature of extremely large file sizes and the shear number of them in large organizations (possibly hundreds of millions), it is not prudent to transmit the original files across the network during e-discovery searches; transfer of large result sets would simply not be feasible due to limiting network resources and long processing times. To address this issue, we deploy a file proxy in place of the original data file that contains only the essential metadata required for search and retrieval. In essence, discovery clients would receive results in the form of small, memory efficient, file proxies that represent the original large documents. The retrieval of the original file would therefore be delayed until the file proxy has been explicitly opened. 

## 3 Graphical Representation in UML

[UML Diagram (Draw.io)](https://drive.google.com/file/d/0B110Jx0kEe5IQlYxajBycUZQR1U/view?usp=sharing)

<div class="mxgraph" style="position:relative;overflow:hidden;width:571px;height:554px;"><div style="width:1px;height:1px;overflow:hidden;">7Vvvk9o2E/5rbubtO3MZwGDg43HHNZlppmmZTtuPAgvQRFhUFhfIX5+VvfIP2T4M2OAkxwfAK1ta7e7zSLuCO+dxs/9Vku36o/Aov+t1vP2d83TX641HLrxrwSESDDrjSLCSzItE3UQwY18pCjso3TGPBpkblRBcsW1WuBC+TxcqI1sKnh1iS1am+0QwWxCel/7NPLVGaddFnXXDe8pWaxxn1MPZBepg+vDokuy4ug9F0KabN8T0hbPad6JLx1jjgIJRPJKfUemrEJuMQNIgsRVOl6FaOMhcSI/KjIgz/3Pabs4UXCeFgAf1t83+kXLtPuOa6LHnktbYXJL6maHLHkBzvBC+Q9Xvei6HRyfbjBHd/3ZapcmGyBUDQzxAa2e7h3cQhvbU8nsltlFbP9Wm6F7dE85W+NwCdAMrxH3CtxV+hiPPjeCJBQvxQuXhkTM9H2yH2cS3pGSgcFa21mNkJGfNidMl3BVPytY6oEQu1n/sQM3//fKaOk0MLqmSjL7QGfNXnH5QdHN9HTwWbDk5/EkDAFlQNr6FSfCqYgDzhygsnsLAmWCQPEUjTrTvl1x8AcmSQdg6k6XwFTJSF7ASXj+TDeOay95T/kJ1r9r3agP3PxXgAUVaAYqUmAAPOJOKDRj1oCkBGcEQH/LlGC+/pPioj7J1ioq6HRQSxPcq7joBJHxBTBbjs99mfM7C0J/60DN9A2du8K0UCxoEN6aGCJefpNiXKvH9YnMwuCE2Bzls/hUADixrUt97kDI0lNhSsOAEJGk7eSRYU91lV7ftmfon9f1f+N55NwifAvV0k46C8MK0lZkxEDu5QC1wnVcQOhTvQmqhXmYHlje1pJwo9pLd2RTZDR/9JJheq42L+paLjDtMD5GW+FB6p2L141o0bPcTTS3XT+jEeDaV/Io7yHZyrhEwI9CLfojuFLbjxnaycm4OXBAvQ05FE7gKa+ZUg129EpL+Lhk8TfgpWv44tNobVuTVUQ20Omwz/D5sIOG04dYiaP1mI+lKe41ykPyQgIgXtWsAYtRmQEw3hPE3QPxsgBiaYL8FILAi105APDP+tkD8dHhwzA7pFniAWeYBUZ6GzrlYfM7moW50CbGrDRJmmJiIYvJpUtFMIprkpbqt3IzpRBR3d+lEFPOtphNRx1rDHbsGUDUTHViZaK6j+lLRrnOSZ30BhThwCVhyhjcIqdZiJQB000Ra6t0qHkT2bbxu4FhWPrtwYI5a4sIBlkyOuAuMSvQ8zG1bfUPwisL2kojjlIaRTRnZ++FLpMHZsVNUO7ZiJzyzIvPwUmPb4labgOdCKX3qNeFkTvmELD6vpNj53qPgIjrWcpbhy2LhosDCyMZTQtQhORerTr338flbxXirTKv5Al9lA8JCpxn++7BgYwYsqqTdmL0wmWqavUY2GYwt0mkbe41y5dWa2aiorNMeNsJIbTMbFZUBWsRGtVmwMQPm08bZIYDquc7YcqZsICcYjJGxj+UEZqN6yWxjuyezDWuXTU3WrpANxtjrVSZr1E0mO9Xp+laygH6EAlUTM7ZLIIOqh4+1zPjslA9zvPCA8ehKe4SBo4Sc8nk4iGnN5ohwTJo+ryw1fDojNFA9ukqfS7olO3izthqPmhTk1EW7bzJC05Gd5deXIfYqZIi3W1eNMi1eVwt+YvMoKVHwE8d6jvI774bpbWrYlMAjajsOj4IM/CzEXFpEsSPbRQ+fChG7I7dvdVQjRCrkcVfjyjgoIl5MB0XtNGpQdmUaHYxqotF4RTUdDTDKG4iRCqnqDWkUDdpmGs3nd22n0YJSdGXEXAgRt4/Z3KUQyXXU4E6jQgLazi3nK7R7QskoEyd425WZdWi8a7x9bk18OETfXSFsik5r28Os6NwWM6uhhvqZ9XT6PAsDF5dSa9pOjPrI+M0HvdPUuV3J2Wv5iW01isMc6Aansq5VRYmRd3JCYRWg3Oacm88YjUnbQGkm9m5AaSXb+IxfTB3bPC+WywBi7kKX5FO8/7epOl6fT+pxifnFiPHJ5S6By+Rfi9Htyb9Pnek3</div></div>


## 4 How it works

A `DiscoveryClient` can be in the form of a desktop, web, or a mobile application. The client accesses the internal `SearchEngine` of our archive system by submitting search queries. Upon the initial search result, the `SearchEngine` returns -- over the network -- a set of `ItemProxy` items. Each `ItemProxy` merely represents the original file, like an alias, and contain only the essential metadata. If the `DiscoveryClient` were to open that `ItemProxy` explicitly from the list of results, `SearchEngine` delegates the request of opening the original file, i.e. calling the `restoreOriginal()` method, and `ItemProxy` will instantiate the appropriate file type for as needed.  

This proxy design solves the e-discovery problem of the need to access files remotely and manage system memory and network traffic appropriately; we implement `ItemProxy` as both a remote and virtual proxy. `ItemProxy` acts as a remote proxy in the sense that locally, clients can see files on a different address space while having full access to them. It acts as a virtual proxy in the sense that expensive objects (e.g. large files, or huge result sets) are created, or transferred over the network on demand. Some implications include: the ability for multiple users to access the central archive repository; and another, the ability to access the files virtually from any computer device without high cost of network usage and congestion.   

## 5 Skeleton C++ Code
## 6 Explanation of Code

<script type="text/javascript" src="https://www.draw.io/embed.js"></script>